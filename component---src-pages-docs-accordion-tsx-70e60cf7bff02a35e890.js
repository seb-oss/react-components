"use strict";(self.webpackChunkreact_components_docs=self.webpackChunkreact_components_docs||[]).push([[5204],{69421:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var a=t(27378),o=t(2634),r=t(30808),c=t(75418),i=t(508),d=t.n(i),s=t(74118),l=["alternative","onToggle","inverted"],u=a.memo(a.forwardRef((function(e,n){var t=e.alternative,o=e.onToggle,i=e.inverted,u=(0,r.Z)(e,l),m=(0,s.H)(n),p=a.useState(u.defaultValue),f=p[0],h=p[1],g=a.useState(u.id),b=g[0],v=g[1],E=a.useCallback((function(e){var n=Number(e.currentTarget.dataset.indexNumber);!isNaN(n)&&h((function(e){return e===n?-1:n}))}),[]),R=a.useCallback((function(e,n){o?o(e):E(e),n&&n(e)}),[o,E]),k=a.useCallback((function(e){var n=Array.from(m.current.querySelectorAll(".card-header > .btn"));if(n.includes(e.target)){var t=e.key,a=n.length,o=n.indexOf(e.target);switch(t){case"ArrowDown":case"ArrowUp":e.preventDefault(),n[(o+a+("ArrowDown"===t?1:-1))%a].focus();break;case"Home":e.preventDefault(),n[0].focus();break;case"End":e.preventDefault(),n[a-1].focus()}}}),[m]);return a.useEffect((function(){return v(u.id||(0,c.k)("accordion-"))}),[u.id]),a.useEffect((function(){"number"==typeof u.defaultValue&&h(u.defaultValue)}),[u.defaultValue]),a.createElement("div",Object.assign({},u,{ref:m,className:d()(["rc","accordion",{alternative:t},{inverted:i},u.className]),id:b,onKeyDown:k}),a.Children.map(u.children,(function(e,n){return a.isValidElement(e)?a.cloneElement(e,{onToggle:function(n){return R(n,e.props.onToggle)},defaultChecked:"number"!=typeof f?e.props.defaultChecked:f===n,"data-parent-id":b,"data-index-number":n}):e})))}))),m=t(95757),p=["header","subHeader","onToggle"],f=a.memo(a.forwardRef((function(e,n){var t=e.header,o=e.subHeader,i=e.onToggle,s=(0,r.Z)(e,p),l=a.useState((0,c.k)("accordion-item-"))[0],u=l+"--header";return a.createElement("div",Object.assign({},s,{ref:n,className:d()("rc","card",{collapsed:!s.defaultChecked},s.className)}),a.createElement("div",{className:"card-header",id:u},a.createElement("button",{className:"btn btn-link",type:"button","aria-controls":l,"aria-disabled":s.defaultChecked,"aria-expanded":s.defaultChecked,"data-index-number":s["data-index-number"],"data-target":"#"+l,"data-toggle":"collapse",onClick:i},a.createElement("h4",null,t),o&&a.createElement("h6",null,o))),a.createElement("section",{id:l,className:d()("collapse",{collapsed:!s.defaultChecked}),"aria-labelledby":u,"data-parent":s["data-parent-id"]?"#"+s["data-parent-id"]:null},a.createElement(m.U,{className:"card-body",toggle:s.defaultChecked},a.createElement("div",{className:"content"},s.children))))}))),h=t(91448),g=t(38535),b=t(44236),v=t(1580),E=[t(38848)],R=function(){var e=(0,h.b)([{key:"controls",items:[{key:"inverted",label:"inverted",description:"Renders the toggle icons to the right",controlType:"Checkbox"},{key:"alternative",label:"alternative",description:"The alternative accordion uses links-like appearance",controlType:"Checkbox"}]}]),n=e.renderForm,t=e.state.controls;return a.createElement(o.Z,{mainFile:v,importedFiles:E,example:a.createElement(u,{className:"w-100",inverted:!!t.inverted,alternative:!!t.alternative,defaultValue:0},a.createElement(f,{header:"A simple accordion item"},a.createElement("p",null,"Illum amet voluptas minus aut esse totam blanditiis. Et corporis vel aspernatur dicta fugit et est placeat. Beatae dolor nisi aut minus placeat et at accusantium.")),a.createElement(f,{header:"An accordion item with headers and paragraphs",subHeader:"A sub-header text to add some context"},a.createElement("h5",null,"Asperiores nihil voluptatem"),a.createElement("p",null,"Omnis quia eum accusamus ipsum. Odit magni voluptas reprehenderit quia iste unde. Quam harum ex consequatur. Ad vitae ipsam et illo architecto aut ipsa laboriosam optio. Quae quis iusto tempore. Quo consequuntur dolorem qui omnis ducimus."),a.createElement("h5",null,"Exercitationem fugit earum"),a.createElement("p",null,"Suscipit quis quia. Et veniam sit est vero. Aut ut est. Et porro saepe aspernatur dolorum rem beatae blanditiis. Repudiandae veritatis ut.")),a.createElement(f,{header:"More complex structures"},a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.createElement("fieldset",null,a.createElement("legend",null,"Register your interest"),a.createElement(b.f,{label:"email",placeholder:"enter your email"}),a.createElement(g.z,{type:"submit"},"Submit"))))),code:'<Accordion>\n    <AccordionItem header="First">First content</AccordionItem>\n    <AccordionItem header="Second">Second content</AccordionItem>\n    <AccordionItem header="Third">Third content</AccordionItem>\n</Accordion>',controls:n()})}},38535:function(e,n,t){t.d(n,{z:function(){return d}});var a=t(30808),o=t(27378),r=t(508),c=t.n(r),i=["theme","size","block"],d=o.memo(o.forwardRef((function(e,n){var t,r=e.theme,d=void 0===r?"primary":r,s=e.size,l=e.block,u=(0,a.Z)(e,i);return o.createElement("button",Object.assign({},u,{ref:n,className:c()("rc","btn","btn-"+d,(t={},t["btn-"+s]=s,t["btn-block"]=l,t),u.className)}),u.children)})))},95757:function(e,n,t){t.d(n,{U:function(){return s}});var a=t(30808),o=t(27378),r=t(508),c=t.n(r),i=t(39275),d=["toggle"],s=o.memo(o.forwardRef((function(e,n){var t=e.toggle,r=void 0!==t&&t,s=(0,a.Z)(e,d),l=(0,i.H)(n),u=o.useState({height:r?"auto":0,display:r?"block":"none",opacity:+r}),m=u[0],p=u[1],f=o.useCallback((function(){p(Object.assign({},m,{display:"block"})),setTimeout((function(){var e;p({display:"block",height:null===(e=l.current)||void 0===e?void 0:e.scrollHeight,opacity:1})}),10)}),[m]),h=o.useCallback((function(){var e;p(Object.assign({},m,{height:null===(e=l.current)||void 0===e?void 0:e.scrollHeight})),setTimeout((function(){p(Object.assign({},m,{height:0,opacity:0}))}),10)}),[m]),g=o.useCallback((function(e){"height"===e.propertyName&&p(r?Object.assign({},m,{height:"auto"}):Object.assign({},m,{display:"none"})),s.onTransitionEnd&&s.onTransitionEnd(e)}),[m,r,s.onTransitionEnd]);return o.useEffect((function(){switch(!0){case r&&0==m.opacity:f();break;case!r&&1==m.opacity:h()}}),[r]),o.createElement("div",Object.assign({},s,{className:c()("custom-collapse",s.className),ref:l,style:m,onTransitionEnd:g}),s.children)})))},39275:function(e,n,t){t.d(n,{H:function(){return a.H},b:function(){return o.b}});var a=t(74118),o=t(91448)},1580:function(e,n,t){t.r(n),n.default='import { randomId } from "@sebgroup/frontend-tools/randomId";\nimport classnames from "classnames";\nimport React from "react";\nimport { useCombinedRefs } from "../hooks/useCombinedRef";\nimport "./accordion.scss";\nimport { AccordionItemProps } from "./AccordionItem";\n\nexport type AccordionProps = JSX.IntrinsicElements["div"] & {\n    /** An alternative version of the accordion */\n    alternative?: boolean;\n    /** An event handler triggered when an accordion toggle is clicked */\n    onToggle?: React.MouseEventHandler<HTMLButtonElement>;\n    /** Places the icon toggle on the right side */\n    inverted?: boolean;\n    /** The default `active` item. (Overriding the native type) */\n    defaultValue?: number;\n};\n\n/** Accordions show and hide information that is not necessary at all time with one click. */\nexport const Accordion: React.FC<AccordionProps> = React.memo(\n    React.forwardRef(({ alternative, onToggle, inverted, ...props }: AccordionProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const accordionRef: React.MutableRefObject<HTMLDivElement> = useCombinedRefs(ref);\n        const [active, setActive] = React.useState<number>(props.defaultValue);\n        const [id, setId] = React.useState<string>(props.id);\n\n        /**\n         * Handles accordion item click event\n         * @param {React.MouseEvent<HTMLButtonElement>} e MouseEvent\n         */\n        const onToggleInner: React.MouseEventHandler<HTMLButtonElement> = React.useCallback((e: React.MouseEvent<HTMLButtonElement>) => {\n            const index: number = Number(e.currentTarget.dataset.indexNumber);\n            !isNaN(index) && setActive((val: number) => (val === index ? -1 : index));\n        }, []);\n\n        /**\n         * handles accordion item click callback\n         * @param {React.MouseEvent<HTMLButtonElement>} e MouseEvent\n         * @param {React.MouseEvent<HTMLButtonElement>} itemToggleFn item onToggle callback\n         */\n        const onAccordionItemToggle = React.useCallback(\n            (e: React.MouseEvent<HTMLButtonElement>, itemToggleFn?: React.MouseEventHandler<HTMLButtonElement>) => {\n                if (onToggle) {\n                    onToggle(e);\n                } else {\n                    onToggleInner(e);\n                }\n                itemToggleFn && itemToggleFn(e); // allows user to pass specific on toggle function for each accordion item\n            },\n            [onToggle, onToggleInner]\n        );\n\n        /**\n         * handles accordion keyboard support @see https://www.w3.org/TR/wai-aria-practices-1.1/examples/accordion/accordion.html\n         */\n        const onAccordionKeyDown = React.useCallback(\n            (e: React.KeyboardEvent<HTMLDivElement>) => {\n                const accordionHeaderRefs: HTMLElement[] = Array.from(accordionRef.current.querySelectorAll<HTMLElement>(".card-header > .btn"));\n                const isAccordionHeader: boolean = accordionHeaderRefs.includes(e.target as HTMLElement);\n\n                if (isAccordionHeader) {\n                    const eventKeyCode: string = e.key;\n                    const headerLength: number = accordionHeaderRefs.length;\n                    const currentFocusedIndex: number = accordionHeaderRefs.indexOf(e.target as HTMLElement);\n\n                    switch (eventKeyCode) {\n                        case "ArrowDown":\n                        case "ArrowUp": {\n                            e.preventDefault();\n                            const direction: number = eventKeyCode === "ArrowDown" ? 1 : -1;\n                            const nextFocusIndex: number = (currentFocusedIndex + headerLength + direction) % headerLength;\n                            accordionHeaderRefs[nextFocusIndex].focus();\n                            break;\n                        }\n                        case "Home": {\n                            e.preventDefault();\n                            accordionHeaderRefs[0].focus();\n                            break;\n                        }\n                        case "End": {\n                            e.preventDefault();\n                            accordionHeaderRefs[headerLength - 1].focus();\n                            break;\n                        }\n                    }\n                }\n            },\n            [accordionRef]\n        );\n\n        /** Sets custom id if the user din\'t pass any */\n        React.useEffect(() => setId(props.id || randomId("accordion-")), [props.id]);\n        React.useEffect(() => {\n            typeof props.defaultValue === "number" && setActive(props.defaultValue);\n        }, [props.defaultValue]);\n\n        return (\n            <div {...props} ref={accordionRef} className={classnames(["rc", "accordion", { alternative }, { inverted }, props.className])} id={id} onKeyDown={onAccordionKeyDown}>\n                {React.Children.map(props.children, (Child: React.ReactElement<AccordionItemProps>, i: number) => {\n                    return React.isValidElement<React.FC<AccordionItemProps>>(Child)\n                        ? React.cloneElement<any>(Child, {\n                              onToggle: (e: React.MouseEvent<HTMLButtonElement>) => onAccordionItemToggle(e, Child.props.onToggle),\n                              defaultChecked: typeof active !== "number" ? Child.props.defaultChecked : active === i,\n                              "data-parent-id": id,\n                              "data-index-number": i,\n                          })\n                        : Child;\n                })}\n            </div>\n        );\n    })\n);\n'},38848:function(e,n,t){t.r(n),n.default='import { randomId } from "@sebgroup/frontend-tools/randomId";\nimport classnames from "classnames";\nimport React from "react";\nimport { Collapse } from "../Collapse/Collapse";\n\nexport type AccordionItemProps = JSX.IntrinsicElements["div"] & {\n    /** The header of the accordion item */\n    header: React.ReactNode;\n    /** A sub-header description rendered under the header */\n    subHeader?: React.ReactNode;\n    /** An event handler triggered on an accordion button is clicked */\n    onToggle?: React.MouseEventHandler<HTMLButtonElement>;\n};\n\nexport const AccordionItem: React.FC<AccordionItemProps> = React.memo(\n    React.forwardRef(({ header, subHeader, onToggle, ...props }: AccordionItemProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const [uniqueId] = React.useState<string>(randomId("accordion-item-"));\n        const headerId: string = `${uniqueId}--header`;\n\n        return (\n            <div {...props} ref={ref} className={classnames("rc", "card", { collapsed: !props.defaultChecked }, props.className)}>\n                <div className="card-header" id={headerId}>\n                    <button\n                        className="btn btn-link"\n                        type="button"\n                        aria-controls={uniqueId}\n                        aria-disabled={props.defaultChecked}\n                        aria-expanded={props.defaultChecked}\n                        data-index-number={props["data-index-number"]}\n                        data-target={`#${uniqueId}`}\n                        data-toggle="collapse"\n                        onClick={onToggle}\n                    >\n                        <h4>{header}</h4>\n                        {subHeader && <h6>{subHeader}</h6>}\n                    </button>\n                </div>\n                <section\n                    id={uniqueId}\n                    className={classnames("collapse", { collapsed: !props.defaultChecked })}\n                    aria-labelledby={headerId}\n                    data-parent={props["data-parent-id"] ? `#${props["data-parent-id"]}` : null}\n                >\n                    <Collapse className="card-body" toggle={props.defaultChecked}>\n                        <div className="content">{props.children}</div>\n                    </Collapse>\n                </section>\n            </div>\n        );\n    })\n);\n'}}]);
//# sourceMappingURL=component---src-pages-docs-accordion-tsx-70e60cf7bff02a35e890.js.map