{"version":3,"file":"component---src-pages-docs-collapse-tsx-f5db69a7342014a7a52e.js","mappings":"2LAKMA,EAAuBC,EAAQ,OA0BrC,UAvB+B,WAC3B,MAA4BC,EAAAA,UAAwB,GAA7CC,EAAP,KAAeC,EAAf,KAEA,OACIF,EAAAA,cAACG,EAAAA,EAAD,CACIC,SAAUN,EACVO,QACIL,EAAAA,cAACM,EAAAA,EAAD,CAAUL,OAAQA,GACdD,EAAAA,cAAAA,IAAAA,KAAAA,qJACAA,EAAAA,cAAAA,IAAAA,KAAAA,gIACAA,EAAAA,cAAAA,IAAAA,KAAAA,iJAGRO,KAfS,+CAgBTC,SACIR,EAAAA,cAACS,EAAAA,EAAD,CAAQC,KAAK,KAAKC,QAAS,kBAAMT,GAAWD,EAAjB,GAA3B,oBAfhB,C,+HCOaQ,EAAgCT,EAAAA,KACzCA,EAAAA,YAAiB,WAA4DY,GAAgD,IAAD,MAAxGC,MAAAA,OAAwG,MAAhG,UAAgG,EAArFH,EAAqF,EAArFA,KAAMI,EAA+E,EAA/EA,MAAUC,GAAqE,YACxH,OACIf,EAAAA,cAAAA,SAAAA,OAAAA,OAAAA,CAAAA,EAAYe,EAAZ,CAAmBH,IAAKA,EAAKI,UAAWC,IAAW,KAAM,MAAP,OAAqBJ,GAArB,cAAwCH,GAASA,EAAjD,EAAuD,aAAaI,EAApE,GAA6EC,EAAMC,aAChID,EAAMG,SAHnB,I,4HCLSZ,EAAoCN,EAAAA,KAC7CA,EAAAA,YAAiB,WAA8CY,GAA6C,IAAD,IAAvFX,OAAAA,OAAuF,SAApEc,GAAoE,YACjGI,GAAsDC,EAAAA,EAAAA,GAAgBR,GAC5E,EAA4BZ,EAAAA,SAAoC,CAC5DqB,OAAQpB,EAAS,OAAS,EAC1BqB,QAASrB,EAAS,QAAU,OAC5BsB,SAAUtB,IAHPuB,EAAP,KAAeC,EAAf,KAOMC,EAAS1B,EAAAA,aAAkB,WAE7ByB,EAAU,OAAD,UAAMD,EAAN,CAAcF,QAAS,WAEhCK,YAAW,WAAO,IAAD,EACbF,EAAU,CAAEH,QAAS,QAASD,OAAM,UAAEF,EAAYS,eAAd,aAAEC,EAAqBC,aAAcP,QAAS,GAD5E,GAEP,GANQ,GAOZ,CAACC,IAGEO,EAAW/B,EAAAA,aAAkB,WAAa,IAAD,EAE3CyB,EAAU,OAAD,UAAMD,EAAN,CAAcH,OAAM,UAAEF,EAAYS,eAAd,aAAEI,EAAqBF,gBAEpDH,YAAW,WACPF,EAAU,OAAD,UAAMD,EAAN,CAAcH,OAAQ,EAAGE,QAAS,IADrC,GAEP,GANU,GAOd,CAACC,IAMES,EAAkBjC,EAAAA,aACpB,SAACkC,GAC0B,WAAnBA,EAAEC,cAEEV,EADAxB,EACU,OAAD,UAAMuB,EAAN,CAAcH,OAAQ,SAErB,OAAD,UAAMG,EAAN,CAAcF,QAAS,UAGxCP,EAAMqB,iBAAmBrB,EAAMqB,gBAAgBF,EAT/B,GAWpB,CAACV,EAAQvB,EAAQc,EAAMqB,kBAc3B,OAXApC,EAAAA,WAAgB,WACZ,QAAQ,GACJ,KAAKC,GAA4B,GAAlBuB,EAAOD,QAClBG,IACA,MACJ,KAAMzB,GAA4B,GAAlBuB,EAAOD,QACnBQ,IANZ,GASG,CAAC9B,IAGAD,EAAAA,cAAAA,MAAAA,OAAAA,OAAAA,CAAAA,EAASe,EAAT,CAAgBC,UAAWC,IAAW,kBAAmBF,EAAMC,WAAYJ,IAAKO,EAAakB,MAAOb,EAAQY,gBAAiBH,IACxHlB,EAAMG,SA3DnB,I,mNCZJ,ykG","sources":["webpack://react-components-docs/./src/pages/docs/collapse.tsx","webpack://react-components-docs/../lib/src/Button/Button.tsx","webpack://react-components-docs/../lib/src/Collapse/Collapse.tsx","webpack://react-components-docs/../lib/src/Collapse/Collapse.tsx?68e8"],"sourcesContent":["import React from \"react\";\nimport Docs from \"@common/Docs\";\nimport { Collapse } from \"@sebgroup/react-components/Collapse\";\nimport { Button } from \"@sebgroup/react-components/Button\";\n\nconst importString: string = require(\"!raw-loader!@sebgroup/react-components/Collapse/Collapse\");\nconst code: string = `<Collapse toggle={toggle}>content</Collapse>`;\n\nconst CollapsePage: React.FC = () => {\n    const [toggle, setToggle] = React.useState<boolean>(true);\n\n    return (\n        <Docs\n            mainFile={importString}\n            example={\n                <Collapse toggle={toggle}>\n                    <p>Aut perferendis et. Et necessitatibus aliquid sit. Id illum minus qui atque autem. Qui dolorem amet beatae quasi. Sunt sunt id repellendus rerum.</p>\n                    <p>Occaecati vel incidunt id sapiente facere ut itaque repudiandae. Unde numquam sunt totam et delectus. Sit et fugit fuga aut.</p>\n                    <p>Sed amet ab. Aut vel ipsam dolore. Ut ratione consequatur autem id adipisci corrupti et nam. Labore rerum debitis nihil sit aut ut mollitia.</p>\n                </Collapse>\n            }\n            code={code}\n            controls={\n                <Button size=\"sm\" onClick={() => setToggle(!toggle)}>\n                    Toggle collapse\n                </Button>\n            }\n        />\n    );\n};\n\nexport default CollapsePage;\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nexport type ButtonTheme = \"primary\" | \"secondary\" | \"danger\" | \"outline-primary\" | \"outline-danger\" | \"dark\" | \"light\" | \"link\";\nexport type ButtonSize = \"lg\" | \"md\" | \"sm\";\n\nexport type ButtonProps = JSX.IntrinsicElements[\"button\"] & {\n    /** Button Theme */\n    theme?: ButtonTheme;\n    /** Button size */\n    size?: ButtonSize;\n    /** Fill the parent width */\n    block?: boolean;\n};\n/** Buttons allow users to take action with a single tap. */\nexport const Button: React.FC<ButtonProps> = React.memo(\n    React.forwardRef(({ theme = \"primary\", size, block, ...props }: ButtonProps, ref: React.ForwardedRef<HTMLButtonElement>) => {\n        return (\n            <button {...props} ref={ref} className={classnames(\"rc\", \"btn\", `btn-${theme}`, { [`btn-${size}`]: size, \"btn-block\": block }, props.className)}>\n                {props.children}\n            </button>\n        );\n    })\n);\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"./collapse.scss\";\nimport { useCombinedRefs } from \"../hooks\";\n\nexport type CollapseProps = JSX.IntrinsicElements[\"div\"] & {\n    /** True to expand, false to collapse */\n    toggle?: boolean;\n};\n\n/** A helper component for collapsing any content placed inside of it */\nexport const Collapse: React.FC<CollapseProps> = React.memo(\n    React.forwardRef(({ toggle = false, ...props }: CollapseProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const collapseRef: React.MutableRefObject<HTMLDivElement> = useCombinedRefs(ref);\n        const [styles, setStyles] = React.useState<React.CSSProperties>({\n            height: toggle ? \"auto\" : 0,\n            display: toggle ? \"block\" : \"none\",\n            opacity: +toggle,\n        });\n\n        /** Expand the content */\n        const expand = React.useCallback((): void => {\n            /** Cannot transition when display is set to `none`, we need to change it to `block` */\n            setStyles({ ...styles, display: \"block\" });\n            /** This async delay is needed for the height change to take effect */\n            setTimeout(() => {\n                setStyles({ display: \"block\", height: collapseRef.current?.scrollHeight, opacity: 1 });\n            }, 10);\n        }, [styles]);\n\n        /** Collapse the content */\n        const collapse = React.useCallback((): void => {\n            /** Since height `auto` will not transition, we need to change it to pixels */\n            setStyles({ ...styles, height: collapseRef.current?.scrollHeight });\n            /** This async delay is needed for the height change to take effect */\n            setTimeout(() => {\n                setStyles({ ...styles, height: 0, opacity: 0 });\n            }, 10);\n        }, [styles]);\n\n        /**\n         * An event handler triggered after collapse/expand transition ends\n         * @param e The transition event\n         */\n        const afterTransition = React.useCallback(\n            (e: React.TransitionEvent<HTMLDivElement>): void => {\n                if (e.propertyName === \"height\") {\n                    if (toggle) {\n                        setStyles({ ...styles, height: \"auto\" });\n                    } else {\n                        setStyles({ ...styles, display: \"none\" });\n                    }\n                }\n                props.onTransitionEnd && props.onTransitionEnd(e);\n            },\n            [styles, toggle, props.onTransitionEnd]\n        );\n\n        React.useEffect(() => {\n            switch (true) {\n                case toggle && styles.opacity == 0:\n                    expand();\n                    break;\n                case !toggle && styles.opacity == 1:\n                    collapse();\n                    break;\n            }\n        }, [toggle]);\n\n        return (\n            <div {...props} className={classnames(\"custom-collapse\", props.className)} ref={collapseRef} style={styles} onTransitionEnd={afterTransition}>\n                {props.children}\n            </div>\n        );\n    })\n);\n","export default \"import React from \\\"react\\\";\\nimport classnames from \\\"classnames\\\";\\nimport \\\"./collapse.scss\\\";\\nimport { useCombinedRefs } from \\\"../hooks\\\";\\n\\nexport type CollapseProps = JSX.IntrinsicElements[\\\"div\\\"] & {\\n    /** True to expand, false to collapse */\\n    toggle?: boolean;\\n};\\n\\n/** A helper component for collapsing any content placed inside of it */\\nexport const Collapse: React.FC<CollapseProps> = React.memo(\\n    React.forwardRef(({ toggle = false, ...props }: CollapseProps, ref: React.ForwardedRef<HTMLDivElement>) => {\\n        const collapseRef: React.MutableRefObject<HTMLDivElement> = useCombinedRefs(ref);\\n        const [styles, setStyles] = React.useState<React.CSSProperties>({\\n            height: toggle ? \\\"auto\\\" : 0,\\n            display: toggle ? \\\"block\\\" : \\\"none\\\",\\n            opacity: +toggle,\\n        });\\n\\n        /** Expand the content */\\n        const expand = React.useCallback((): void => {\\n            /** Cannot transition when display is set to `none`, we need to change it to `block` */\\n            setStyles({ ...styles, display: \\\"block\\\" });\\n            /** This async delay is needed for the height change to take effect */\\n            setTimeout(() => {\\n                setStyles({ display: \\\"block\\\", height: collapseRef.current?.scrollHeight, opacity: 1 });\\n            }, 10);\\n        }, [styles]);\\n\\n        /** Collapse the content */\\n        const collapse = React.useCallback((): void => {\\n            /** Since height `auto` will not transition, we need to change it to pixels */\\n            setStyles({ ...styles, height: collapseRef.current?.scrollHeight });\\n            /** This async delay is needed for the height change to take effect */\\n            setTimeout(() => {\\n                setStyles({ ...styles, height: 0, opacity: 0 });\\n            }, 10);\\n        }, [styles]);\\n\\n        /**\\n         * An event handler triggered after collapse/expand transition ends\\n         * @param e The transition event\\n         */\\n        const afterTransition = React.useCallback(\\n            (e: React.TransitionEvent<HTMLDivElement>): void => {\\n                if (e.propertyName === \\\"height\\\") {\\n                    if (toggle) {\\n                        setStyles({ ...styles, height: \\\"auto\\\" });\\n                    } else {\\n                        setStyles({ ...styles, display: \\\"none\\\" });\\n                    }\\n                }\\n                props.onTransitionEnd && props.onTransitionEnd(e);\\n            },\\n            [styles, toggle, props.onTransitionEnd]\\n        );\\n\\n        React.useEffect(() => {\\n            switch (true) {\\n                case toggle && styles.opacity == 0:\\n                    expand();\\n                    break;\\n                case !toggle && styles.opacity == 1:\\n                    collapse();\\n                    break;\\n            }\\n        }, [toggle]);\\n\\n        return (\\n            <div {...props} className={classnames(\\\"custom-collapse\\\", props.className)} ref={collapseRef} style={styles} onTransitionEnd={afterTransition}>\\n                {props.children}\\n            </div>\\n        );\\n    })\\n);\\n\";"],"names":["importString","require","React","toggle","setToggle","Docs","mainFile","example","Collapse","code","controls","Button","size","onClick","ref","theme","block","props","className","classnames","children","collapseRef","useCombinedRefs","height","display","opacity","styles","setStyles","expand","setTimeout","current","_collapseRef$current","scrollHeight","collapse","_collapseRef$current2","afterTransition","e","propertyName","onTransitionEnd","style"],"sourceRoot":""}