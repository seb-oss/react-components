{"version":3,"file":"component---src-pages-docs-imagecropper-tsx-98212cb470d0905dc737.js","mappings":"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","sources":["webpack://react-components-docs/../lib/src/ImageCropper/ResizeHandle.tsx","webpack://react-components-docs/../lib/src/ImageCropper/ImagePicker.tsx","webpack://react-components-docs/../lib/src/ImageCropper/utils.ts","webpack://react-components-docs/../lib/src/ImageCropper/ImageCropper.tsx","webpack://react-components-docs/./src/pages/docs/imagecropper.tsx","webpack://react-components-docs/../lib/src/Modal/Modal.tsx","webpack://react-components-docs/../lib/src/ImageCropper/ImageCropper.tsx?2a71"],"sourcesContent":["import React from \"react\";\nimport classnames from \"classnames\";\nimport { ClipRect } from \"./ImageCropper\";\n\nexport interface ResizeHandleProps {\n    coordinates: ClipRect;\n    position: \"top-left\" | \"top-right\" | \"bottom-left\" | \"bottom-right\";\n    handleResize: React.MouseEventHandler | React.TouchEventHandler;\n}\n\nexport const ResizeHandle: React.FC<ResizeHandleProps> = ({ coordinates, position, handleResize, ...props }: ResizeHandleProps) => {\n    const style: React.CSSProperties = {\n        top: position.includes(\"bottom\") ? coordinates.bottom - 10 : coordinates.top,\n        left: position.includes(\"right\") ? coordinates.right - 10 : coordinates.left,\n    };\n\n    return (\n        <div\n            {...props}\n            className={classnames(\"handle\", { [position]: position })}\n            draggable={false}\n            onMouseDown={handleResize as React.MouseEventHandler}\n            onTouchStart={handleResize as React.TouchEventHandler}\n            style={style}\n        />\n    );\n};\n","import React from \"react\";\n\nexport type ImagePickerProps = React.PropsWithChildren<{\n    size: number;\n    image: string;\n    onReset: () => void;\n    onSelect: () => void;\n}>;\n\nexport const ImagePicker: React.FC<ImagePickerProps> = (props: ImagePickerProps) => {\n    return (\n        <div className=\"image-preview\" style={{ width: props.size, height: props.size }}>\n            <div className=\"preview\">\n                {props.image ? <img src={props.image} width=\"100%\" /> : ImagePlaceholderIcon}\n                <button type=\"button\" className=\"select\" onClick={props.onSelect}>\n                    {props.children || \"Select image\"}\n                </button>\n                {props.image && (\n                    <button type=\"button\" className=\"reset\" onClick={props.onReset}>\n                        &#x2715;\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst ImagePlaceholderIcon: JSX.Element = (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" width=\"60\" fill=\"currentColor\">\n        <path\n            fillRule=\"evenodd\"\n            d=\"M14.5 3h-13a.5.5 0 0 0-.5.5v9c0 .013 0 .027.002.04V12l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094L15 9.499V3.5a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm4.502 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"\n        />\n    </svg>\n);\n","import { ClipRect } from \"./ImageCropper\";\n\n/**\n * Read image from input type file\n * @param event The for event triggered by selecting an image\n * @returns A promise that resolves with the image as data URI string\n */\nexport function readImage(event: React.FormEvent<HTMLInputElement>): Promise<string> {\n    return new Promise((resolve, reject) => {\n        const input: HTMLInputElement = event.target as any;\n\n        if (input.value) {\n            if (input.files && input.files[0]) {\n                const reader: FileReader = new FileReader();\n\n                reader.onload = (event: ProgressEvent<FileReader>) => {\n                    resolve(event.target.result.toString());\n                };\n\n                reader.readAsDataURL(input.files[0]);\n            } else {\n                reject(\"No files found\");\n            }\n        } else {\n            reject(\"No value detected\");\n        }\n    });\n}\n\nexport interface Coordinates {\n    x: number;\n    y: number;\n}\nexport interface Movement {\n    movementX: number;\n    movementY: number;\n}\nlet prevMovement: Coordinates = { x: 0, y: 0 };\n\n/**\n * Gets the X and Y distance that the cursor has travelled\n * @param event The mouse movement event\n * Returns an object of x and y movements\n */\nexport function getMovement(event: MouseEvent | TouchEvent): Movement {\n    let screenX: number = prevMovement.x;\n    let screenY: number = prevMovement.y;\n\n    if (event.type.includes(\"touch\")) {\n        const touchEvent: TouchEvent = event as TouchEvent;\n        if (touchEvent.touches && touchEvent.touches[0]) {\n            screenX = touchEvent.touches[0].screenX;\n            screenY = touchEvent.touches[0].screenY;\n        }\n    } else {\n        const mouseEvent: MouseEvent = event as MouseEvent;\n        screenX = mouseEvent.screenX;\n        screenY = mouseEvent.screenY;\n    }\n\n    var movementX: number = prevMovement.x ? screenX - prevMovement.x : 0;\n    var movementY: number = prevMovement.y ? screenY - prevMovement.y : 0;\n\n    prevMovement = {\n        x: screenX,\n        y: screenY,\n    };\n\n    return { movementX, movementY };\n}\n\n/**\n * A move event handler\n * @param event The mouse move event\n * @param setPos The position setter function\n * @param imgRef The image element\n */\nexport function moveHandler(event: MouseEvent | TouchEvent, img: HTMLImageElement, setPos: React.Dispatch<React.SetStateAction<ClipRect>>): void {\n    const { movementX, movementY } = getMovement(event);\n\n    if (movementX || movementY) {\n        setPos((oldPos: ClipRect) => {\n            const top: number = oldPos.top + movementY;\n            const bottom: number = oldPos.bottom + movementY;\n            const left: number = oldPos.left + movementX;\n            const right: number = oldPos.right + movementX;\n\n            const shouldUpdateY: boolean = top > -1 && bottom <= img.clientHeight;\n            const shouldUpdateX: boolean = left > -1 && right <= img.clientWidth;\n\n            return {\n                top: shouldUpdateY ? top : oldPos.top,\n                bottom: shouldUpdateY ? bottom : oldPos.bottom,\n                left: shouldUpdateX ? left : oldPos.left,\n                right: shouldUpdateX ? right : oldPos.right,\n            };\n        });\n    }\n}\n\nexport type Position = \"top-left\" | \"top-right\" | \"bottom-left\" | \"bottom-right\";\n\nexport function resizeHandler(event: MouseEvent | TouchEvent, position: Position, img: HTMLImageElement, setPos: React.Dispatch<React.SetStateAction<ClipRect>>) {\n    const { movementX, movementY } = getMovement(event);\n\n    let change: ClipRect;\n    let shouldUpdate: boolean;\n\n    switch (position) {\n        case \"top-right\":\n            setPos((oldPos: ClipRect) => {\n                change = {\n                    ...oldPos,\n                    right: oldPos.right + movementX,\n                    top: oldPos.top - movementX,\n                };\n                shouldUpdate = change.right <= img.clientWidth && change.top >= 0;\n                shouldUpdate = shouldUpdate && change.bottom - change.top >= 20 && change.right - change.left >= 20;\n                return shouldUpdate ? change : oldPos;\n            });\n            break;\n        case \"top-left\":\n            setPos((oldPos: ClipRect) => {\n                change = {\n                    ...oldPos,\n                    left: oldPos.left + movementX,\n                    top: oldPos.top + movementX,\n                };\n                shouldUpdate = change.left >= 0 && change.top >= 0;\n                shouldUpdate = shouldUpdate && change.bottom - change.top >= 20 && change.right - change.left >= 20;\n                return shouldUpdate ? change : oldPos;\n            });\n            break;\n        case \"bottom-left\":\n            setPos((oldPos: ClipRect) => {\n                change = {\n                    ...oldPos,\n                    bottom: oldPos.bottom + movementY,\n                    left: oldPos.left - movementY,\n                };\n                shouldUpdate = change.left >= 0 && change.bottom <= img.clientHeight;\n                shouldUpdate = shouldUpdate && change.bottom - change.top >= 20 && change.right - change.left >= 20;\n                return shouldUpdate ? change : oldPos;\n            });\n            break;\n        case \"bottom-right\":\n            setPos((oldPos: ClipRect) => {\n                change = {\n                    ...oldPos,\n                    bottom: oldPos.bottom + movementY,\n                    right: oldPos.right + movementY,\n                };\n                shouldUpdate = change.right <= img.clientWidth && change.bottom <= img.clientHeight;\n                shouldUpdate = shouldUpdate && change.bottom - change.top >= 20 && change.right - change.left >= 20;\n                return shouldUpdate ? change : oldPos;\n            });\n            break;\n    }\n}\n\nexport function addListener(event: React.MouseEvent | React.TouchEvent, callback: (...args: any[]) => void) {\n    let type: keyof DocumentEventMap;\n    let cancelTypes: Array<keyof DocumentEventMap> = [];\n\n    switch (event.type as keyof DocumentEventMap) {\n        case \"mousedown\":\n            type = \"mousemove\";\n            cancelTypes = [\"mouseup\", \"mouseleave\"];\n            break;\n        case \"touchstart\":\n            type = \"touchmove\";\n            cancelTypes = [\"touchend\"];\n    }\n\n    function stop() {\n        document.removeEventListener(type, callback);\n        cancelTypes.forEach((t: keyof DocumentEventMap) => {\n            document[\"on\" + t] = null;\n\n            prevMovement = {\n                x: 0,\n                y: 0,\n            };\n        });\n        document.onkeyup = null;\n    }\n\n    if (type) {\n        document.addEventListener(type, callback);\n\n        cancelTypes.forEach((cancelType: keyof DocumentEventMap) => {\n            document[\"on\" + cancelType] = stop;\n        });\n\n        document.onkeyup = (e: KeyboardEvent) => {\n            if (e.key === \"Escape\") {\n                stop();\n            }\n        };\n    }\n}\n\n/**\n * @param url The source image\n * @param x The x coordinates of the crop box\n * @param y The y coordinates of the crop box\n * @param width The width of the crop box\n * @param height The height of the crop box\n * @param imgContainer The image HTML element containing the original image\n * @return {Promise<HTMLCanvasElement>} A Promise that resolves with the resulting image as a canvas element\n */\nexport function crop(url: string, x: number, y: number, width: number, height: number, imgContainer: HTMLImageElement): Promise<string> {\n    return new Promise((resolve) => {\n        const inputImage: HTMLImageElement = new Image();\n\n        inputImage.onload = () => {\n            const canvas: HTMLCanvasElement = document.createElement(\"canvas\");\n            const maxDrawnSize: number = Math.min(imgContainer.width, imgContainer.height);\n            canvas.width = canvas.height = maxDrawnSize;\n\n            const scaleX: number = inputImage.width / imgContainer.width;\n            const scaleY: number = inputImage.height / imgContainer.height;\n\n            const ctx: CanvasRenderingContext2D = canvas.getContext(\"2d\");\n            ctx.drawImage(inputImage, x * scaleX, y * scaleY, width * scaleX, height * scaleY, 0, 0, maxDrawnSize, maxDrawnSize);\n            resolve(canvas.toDataURL());\n        };\n\n        inputImage.src = url;\n    });\n}\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { Modal } from \"../Modal\";\nimport { ResizeHandle } from \"./ResizeHandle\";\nimport { ImagePicker } from \"./ImagePicker\";\nimport { moveHandler, readImage, resizeHandler, Position, addListener, crop } from \"./utils\";\nimport \"./image-cropper.scss\";\n\ninterface ImageCropperText {\n    select?: string;\n    cancel?: string;\n    crop?: string;\n}\n\nexport type ImageCropperProps = Omit<JSX.IntrinsicElements[\"div\"], \"onChange\"> & {\n    /** The image value as string */\n    value?: string;\n    /** On change handler fired when image has been cropped or reset */\n    onChange?: (image: string) => void;\n    /** The size of the image cropper picker */\n    size?: number;\n    /** Texts used in the image cropper */\n    text?: ImageCropperText;\n};\n\nexport interface ClipRect {\n    top: number;\n    right: number;\n    bottom: number;\n    left: number;\n}\n\nexport const ImageCropper: React.FC<ImageCropperProps> = React.memo(\n    React.forwardRef(({ onChange, value, size = 200, text, ...props }: ImageCropperProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const fileRef: React.MutableRefObject<HTMLInputElement> = React.useRef<HTMLInputElement>();\n        const imgRef: React.MutableRefObject<HTMLImageElement> = React.useRef<HTMLImageElement>();\n        const [modalToggle, setModalToggle] = React.useState<boolean>(false);\n        const [imgSrc, setImgSrc] = React.useState<string>();\n        const [croppedImgSrc, setCroppedImgSrc] = React.useState<string>(value);\n        const [pos, setPos] = React.useState<ClipRect>({ top: 0, left: 0, bottom: 180, right: 180 });\n\n        /** Handles selecting a file */\n        const handleInput = React.useCallback((event: React.FormEvent<HTMLInputElement>) => {\n            readImage(event)\n                .then((val: string) => {\n                    setImgSrc(val);\n                    setModalToggle(true);\n                })\n                .catch(console.error);\n        }, []);\n\n        /** Handles dragging the cropbox */\n        const handleMove = React.useCallback((event: React.MouseEvent | React.TouchEvent) => {\n            addListener(event, (ev) => {\n                moveHandler(ev, imgRef.current, setPos);\n            });\n        }, []);\n\n        /** Handles resizing the cropbox */\n        const handleResize = React.useCallback((event: React.MouseEvent | React.TouchEvent) => {\n            const position: Position = (event.target as HTMLElement).className.replace(\"handle\", \"\").trim() as Position;\n\n            addListener(event, (e: MouseEvent | TouchEvent) => {\n                resizeHandler(e, position, imgRef.current, setPos);\n            });\n        }, []);\n\n        /** Handles cropping the image to the cropbox */\n        const handleCrop = () => {\n            crop(imgSrc, pos.left, pos.top, pos.right - pos.left, pos.bottom - pos.top, imgRef.current).then((img: string) => {\n                setModalToggle(false);\n                onChange && onChange(img);\n            });\n        };\n\n        /** Resets the image cropper */\n        const reset = React.useCallback(() => {\n            setCroppedImgSrc(null);\n            setImgSrc(null);\n            fileRef.current.value = fileRef.current.files = null;\n            onChange && onChange(null);\n        }, [props.onReset]);\n\n        React.useEffect(() => setCroppedImgSrc(value), [value]);\n\n        React.useEffect(() => {\n            modalToggle && setPos({ top: 0, left: 0, bottom: 180, right: 180 });\n        }, [modalToggle]);\n\n        return (\n            <div {...props} ref={ref} className={classnames(\"rc\", \"image-cropper\", props.className)}>\n                <input type=\"file\" accept=\"image/*\" ref={fileRef} onInput={handleInput} hidden />\n\n                <ImagePicker\n                    image={croppedImgSrc}\n                    size={size}\n                    onReset={reset}\n                    onSelect={() => {\n                        fileRef.current.value = fileRef.current.files = null;\n                        fileRef.current.click();\n                    }}\n                >\n                    {text?.select}\n                </ImagePicker>\n\n                <Modal toggle={modalToggle} size=\"lg\" className=\"image-cropper-modal\">\n                    <div className=\"modal-body\">\n                        <div className=\"cropping-area\">\n                            <img src={imgSrc} draggable={false} ref={imgRef} />\n                            <img\n                                className=\"crop-box\"\n                                src={imgSrc}\n                                style={{ clip: `rect(${pos.top}px, ${pos.right}px, ${pos.bottom}px, ${pos.left}px)` }}\n                                draggable={false}\n                                onMouseDown={handleMove}\n                                onTouchStart={handleMove}\n                            />\n                            <ResizeHandle position=\"top-left\" coordinates={pos} handleResize={handleResize} />\n                            <ResizeHandle position=\"top-right\" coordinates={pos} handleResize={handleResize} />\n                            <ResizeHandle position=\"bottom-left\" coordinates={pos} handleResize={handleResize} />\n                            <ResizeHandle position=\"bottom-right\" coordinates={pos} handleResize={handleResize} />\n                        </div>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <div>\n                            <button className=\"btn btn-outline-primary cancel\" onClick={() => setModalToggle(false)} type=\"button\">\n                                {text?.cancel || \"Cancel\"}\n                            </button>\n                            <button className=\"btn btn-primary ml-3\" onClick={handleCrop} type=\"button\">\n                                {text?.crop || \"Crop\"}\n                            </button>\n                        </div>\n                    </div>\n                </Modal>\n            </div>\n        );\n    })\n);\n","import React from \"react\";\nimport Docs from \"@common/Docs\";\nimport { ImageCropper } from \"@sebgroup/react-components/ImageCropper/ImageCropper\";\nimport { useDynamicForm } from \"@sebgroup/react-components/hooks/useDynamicForm\";\n\nconst importString: string = require(\"!raw-loader!@sebgroup/react-components/ImageCropper/ImageCropper\");\nconst code: string = `<ImageCropper value={image} onChange={setImage} />`;\n\nconst ImageCropperPage: React.FC = () => {\n    const [image, setImage] = React.useState<string>(\"\");\n\n    const {\n        renderForm,\n        state: { controls },\n    } = useDynamicForm([\n        {\n            key: \"controls\",\n            items: [\n                { key: \"size\", label: \"Size\", description: \"The size of the image cropper picker in pixels\", controlType: \"Text\", initialValue: 200 },\n                { key: \"selectText\", label: \"Select text\", description: \"The text used for selecting an image\", controlType: \"Text\", initialValue: \"\" },\n                { key: \"cropText\", label: \"Crop text\", description: \"The text used for crop action\", controlType: \"Text\", initialValue: \"\" },\n                { key: \"cancelText\", label: \"Cancel text\", description: \"The text used to cancel the crop\", controlType: \"Text\", initialValue: \"\" },\n            ],\n        },\n    ]);\n\n    const { size, selectText, cropText, cancelText } = controls as { [k: string]: any };\n\n    return (\n        <Docs\n            mainFile={importString}\n            example={\n                <div className=\"d-flex flex-column align-items-center mx-auto\">\n                    <ImageCropper value={image} onChange={setImage} size={parseInt(size) || 200} text={{ select: selectText, crop: cropText, cancel: cancelText }} />\n                </div>\n            }\n            code={code}\n            controls={renderForm()}\n        />\n    );\n};\n\nexport default ImageCropperPage;\n","import classnames from \"classnames\";\nimport React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { useCombinedRefs } from \"../hooks\";\nimport { Key } from \"../utils\";\nimport \"./modal.scss\";\n\nexport type ModalPosition = \"left\" | \"right\" | \"default\";\nexport type ModalSize = \"lg\" | \"md\" | \"sm\";\ntype FocusableElements = HTMLInputElement | HTMLButtonElement | HTMLAnchorElement;\n\nexport type ModalProps = JSX.IntrinsicElements[\"div\"] & {\n    /** Centers the modal in the middle of the screen. Default is `false` */\n    centered?: boolean;\n    /** Size of modal `lg` | `md` | `sm` */\n    size?: ModalSize;\n    /** Toggle fullscreen modal, default is `false` */\n    fullscreen?: boolean;\n    /** Event triggered when escape key is triggered */\n    onEscape?: (e: KeyboardEvent) => void;\n    /** Event triggered when the backdrop is clicked */\n    onBackdropDismiss?: React.MouseEventHandler<HTMLDivElement>;\n    /** Modal position. Available positions: `left`, `right` */\n    position?: ModalPosition;\n    /** Modal toggle */\n    toggle?: boolean;\n    /** @deprecated since version 6.0.0. Trap focus would be enabled by default. */\n    trapFocus?: boolean;\n    /** Automatically focuses on the first focusable element in the modal dialog */\n    autoFocus?: boolean;\n};\n\nconst FOCUSABLE_ELEMENTS_SELECTOR: string = \"input:not([type='hidden']), button, a\";\n// This solution is meant to fix Gatsby build which complains that document doesn't exist in server-side rendering\nconst safeDocument: Document | null = typeof document !== \"undefined\" ? document : null;\n\n/** The modal component provides a solid foundation for creating dialogs or slideout modals */\nexport const Modal: React.FC<ModalProps> = React.memo(\n    React.forwardRef(({ autoFocus = true, centered, size, fullscreen, onEscape, onBackdropDismiss, position, toggle, ...props }: ModalProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const dialogRef: React.MutableRefObject<HTMLDivElement> = useCombinedRefs(ref);\n        const triggerRef: React.MutableRefObject<HTMLElement> = React.useRef();\n        const [isPristine, setIsPristine] = React.useState<boolean>(true);\n\n        const onDialogKeyDown = React.useCallback<(e: React.KeyboardEvent) => void>(\n            (e: React.KeyboardEvent) => {\n                switch (e.key) {\n                    case Key.Escape: {\n                        onEscape && onEscape(e as unknown as KeyboardEvent);\n                        break;\n                    }\n                    case Key.Tab: {\n                        // focus on next focusable element and trap the focus within the dialog (focus trap)\n                        e.preventDefault();\n                        e.stopPropagation();\n                        const focusableElements: FocusableElements[] = Array.from(dialogRef.current.querySelectorAll<FocusableElements>(FOCUSABLE_ELEMENTS_SELECTOR));\n                        const focusableElementsLength: number = focusableElements.length;\n\n                        if (focusableElementsLength > 0) {\n                            const currentFocusedIndex: number = focusableElements.indexOf(document.activeElement as FocusableElements);\n                            const direction: number = e.shiftKey ? -1 : 1;\n                            const nextFocusIndex: number = (currentFocusedIndex + direction + focusableElementsLength) % focusableElementsLength;\n                            focusableElements[nextFocusIndex]?.focus();\n                        }\n\n                        break;\n                    }\n                }\n            },\n            [dialogRef, onEscape]\n        );\n\n        React.useEffect(() => {\n            if (toggle) {\n                isPristine && setIsPristine(false);\n                document.body.classList.add(\"modal-open\");\n            }\n\n            return () => {\n                document.body.classList.remove(\"modal-open\");\n                triggerRef.current?.focus();\n                triggerRef.current = undefined;\n            };\n        }, [isPristine, toggle]);\n\n        return !safeDocument\n            ? null\n            : createPortal(\n                  <div\n                      {...props}\n                      className={classnames(\n                          \"rc\",\n                          \"modal\",\n                          {\n                              show: toggle,\n                              hide: !toggle && !isPristine,\n                              \"modal-centered\": centered,\n                              \"modal-aside\": position && position !== \"default\" && !fullscreen,\n                              [`modal-aside-${[position]}`]: position && position !== \"default\" && !fullscreen,\n                              \"modal-fullscreen\": fullscreen,\n                          },\n                          props.className\n                      )}\n                      role={props.role || \"dialog\"}\n                      tabIndex={props.tabIndex || -1}\n                      aria-modal=\"true\"\n                      onClick={(e) => {\n                          props.onClick && props.onClick(e);\n                          const target: HTMLDivElement = e.target as any;\n\n                          if (onBackdropDismiss && target.classList.contains(\"rc\") && target.classList.contains(\"modal\")) {\n                              onBackdropDismiss(e);\n                          }\n                      }}\n                      onAnimationEnd={(e) => {\n                          e.stopPropagation();\n                          props.onAnimationEnd && props.onAnimationEnd(e);\n\n                          if (fullscreen && toggle && autoFocus && !dialogRef.current.contains(document.activeElement)) {\n                              triggerRef.current = document.activeElement as HTMLElement;\n                              dialogRef.current.querySelector<HTMLElement>(FOCUSABLE_ELEMENTS_SELECTOR)?.focus();\n                          }\n                      }}\n                      onKeyDown={onDialogKeyDown}\n                  >\n                      <div\n                          ref={dialogRef}\n                          role=\"document\"\n                          className={classnames(\"modal-dialog\", { [`modal-${size}`]: size })}\n                          onAnimationEnd={(e) => {\n                              e.stopPropagation();\n\n                              if (toggle && autoFocus && !dialogRef.current.contains(document.activeElement)) {\n                                  triggerRef.current = document.activeElement as HTMLElement;\n                                  dialogRef.current.querySelector<HTMLElement>(FOCUSABLE_ELEMENTS_SELECTOR)?.focus();\n                              }\n                          }}\n                      >\n                          <div className=\"modal-content\">{props.children}</div>\n                      </div>\n                  </div>,\n                  safeDocument.body\n              );\n    })\n);\n","export default \"import React from \\\"react\\\";\\nimport classnames from \\\"classnames\\\";\\nimport { Modal } from \\\"../Modal\\\";\\nimport { ResizeHandle } from \\\"./ResizeHandle\\\";\\nimport { ImagePicker } from \\\"./ImagePicker\\\";\\nimport { moveHandler, readImage, resizeHandler, Position, addListener, crop } from \\\"./utils\\\";\\nimport \\\"./image-cropper.scss\\\";\\n\\ninterface ImageCropperText {\\n    select?: string;\\n    cancel?: string;\\n    crop?: string;\\n}\\n\\nexport type ImageCropperProps = Omit<JSX.IntrinsicElements[\\\"div\\\"], \\\"onChange\\\"> & {\\n    /** The image value as string */\\n    value?: string;\\n    /** On change handler fired when image has been cropped or reset */\\n    onChange?: (image: string) => void;\\n    /** The size of the image cropper picker */\\n    size?: number;\\n    /** Texts used in the image cropper */\\n    text?: ImageCropperText;\\n};\\n\\nexport interface ClipRect {\\n    top: number;\\n    right: number;\\n    bottom: number;\\n    left: number;\\n}\\n\\nexport const ImageCropper: React.FC<ImageCropperProps> = React.memo(\\n    React.forwardRef(({ onChange, value, size = 200, text, ...props }: ImageCropperProps, ref: React.ForwardedRef<HTMLDivElement>) => {\\n        const fileRef: React.MutableRefObject<HTMLInputElement> = React.useRef<HTMLInputElement>();\\n        const imgRef: React.MutableRefObject<HTMLImageElement> = React.useRef<HTMLImageElement>();\\n        const [modalToggle, setModalToggle] = React.useState<boolean>(false);\\n        const [imgSrc, setImgSrc] = React.useState<string>();\\n        const [croppedImgSrc, setCroppedImgSrc] = React.useState<string>(value);\\n        const [pos, setPos] = React.useState<ClipRect>({ top: 0, left: 0, bottom: 180, right: 180 });\\n\\n        /** Handles selecting a file */\\n        const handleInput = React.useCallback((event: React.FormEvent<HTMLInputElement>) => {\\n            readImage(event)\\n                .then((val: string) => {\\n                    setImgSrc(val);\\n                    setModalToggle(true);\\n                })\\n                .catch(console.error);\\n        }, []);\\n\\n        /** Handles dragging the cropbox */\\n        const handleMove = React.useCallback((event: React.MouseEvent | React.TouchEvent) => {\\n            addListener(event, (ev) => {\\n                moveHandler(ev, imgRef.current, setPos);\\n            });\\n        }, []);\\n\\n        /** Handles resizing the cropbox */\\n        const handleResize = React.useCallback((event: React.MouseEvent | React.TouchEvent) => {\\n            const position: Position = (event.target as HTMLElement).className.replace(\\\"handle\\\", \\\"\\\").trim() as Position;\\n\\n            addListener(event, (e: MouseEvent | TouchEvent) => {\\n                resizeHandler(e, position, imgRef.current, setPos);\\n            });\\n        }, []);\\n\\n        /** Handles cropping the image to the cropbox */\\n        const handleCrop = () => {\\n            crop(imgSrc, pos.left, pos.top, pos.right - pos.left, pos.bottom - pos.top, imgRef.current).then((img: string) => {\\n                setModalToggle(false);\\n                onChange && onChange(img);\\n            });\\n        };\\n\\n        /** Resets the image cropper */\\n        const reset = React.useCallback(() => {\\n            setCroppedImgSrc(null);\\n            setImgSrc(null);\\n            fileRef.current.value = fileRef.current.files = null;\\n            onChange && onChange(null);\\n        }, [props.onReset]);\\n\\n        React.useEffect(() => setCroppedImgSrc(value), [value]);\\n\\n        React.useEffect(() => {\\n            modalToggle && setPos({ top: 0, left: 0, bottom: 180, right: 180 });\\n        }, [modalToggle]);\\n\\n        return (\\n            <div {...props} ref={ref} className={classnames(\\\"rc\\\", \\\"image-cropper\\\", props.className)}>\\n                <input type=\\\"file\\\" accept=\\\"image/*\\\" ref={fileRef} onInput={handleInput} hidden />\\n\\n                <ImagePicker\\n                    image={croppedImgSrc}\\n                    size={size}\\n                    onReset={reset}\\n                    onSelect={() => {\\n                        fileRef.current.value = fileRef.current.files = null;\\n                        fileRef.current.click();\\n                    }}\\n                >\\n                    {text?.select}\\n                </ImagePicker>\\n\\n                <Modal toggle={modalToggle} size=\\\"lg\\\" className=\\\"image-cropper-modal\\\">\\n                    <div className=\\\"modal-body\\\">\\n                        <div className=\\\"cropping-area\\\">\\n                            <img src={imgSrc} draggable={false} ref={imgRef} />\\n                            <img\\n                                className=\\\"crop-box\\\"\\n                                src={imgSrc}\\n                                style={{ clip: `rect(${pos.top}px, ${pos.right}px, ${pos.bottom}px, ${pos.left}px)` }}\\n                                draggable={false}\\n                                onMouseDown={handleMove}\\n                                onTouchStart={handleMove}\\n                            />\\n                            <ResizeHandle position=\\\"top-left\\\" coordinates={pos} handleResize={handleResize} />\\n                            <ResizeHandle position=\\\"top-right\\\" coordinates={pos} handleResize={handleResize} />\\n                            <ResizeHandle position=\\\"bottom-left\\\" coordinates={pos} handleResize={handleResize} />\\n                            <ResizeHandle position=\\\"bottom-right\\\" coordinates={pos} handleResize={handleResize} />\\n                        </div>\\n                    </div>\\n                    <div className=\\\"modal-footer\\\">\\n                        <div>\\n                            <button className=\\\"btn btn-outline-primary cancel\\\" onClick={() => setModalToggle(false)} type=\\\"button\\\">\\n                                {text?.cancel || \\\"Cancel\\\"}\\n                            </button>\\n                            <button className=\\\"btn btn-primary ml-3\\\" onClick={handleCrop} type=\\\"button\\\">\\n                                {text?.crop || \\\"Crop\\\"}\\n                            </button>\\n                        </div>\\n                    </div>\\n                </Modal>\\n            </div>\\n        );\\n    })\\n);\\n\";"],"names":["ResizeHandle","coordinates","position","handleResize","props","style","top","includes","bottom","left","right","React","className","classnames","draggable","onMouseDown","onTouchStart","ImagePicker","width","size","height","image","src","ImagePlaceholderIcon","type","onClick","onSelect","children","onReset","xmlns","viewBox","fill","fillRule","d","prevMovement","x","y","getMovement","event","screenX","screenY","touchEvent","touches","mouseEvent","movementX","movementY","addListener","callback","cancelTypes","stop","document","removeEventListener","forEach","t","onkeyup","addEventListener","cancelType","e","key","ImageCropper","ref","onChange","value","text","fileRef","imgRef","modalToggle","setModalToggle","imgSrc","setImgSrc","croppedImgSrc","setCroppedImgSrc","pos","setPos","handleInput","Promise","resolve","reject","input","target","files","reader","FileReader","onload","result","toString","readAsDataURL","readImage","then","val","console","error","handleMove","ev","img","oldPos","shouldUpdateY","clientHeight","shouldUpdateX","clientWidth","moveHandler","current","replace","trim","change","resizeHandler","reset","accept","onInput","hidden","click","select","Modal","toggle","clip","cancel","url","imgContainer","inputImage","Image","canvas","createElement","maxDrawnSize","Math","min","scaleX","scaleY","getContext","drawImage","toDataURL","crop","importString","require","setImage","useDynamicForm","items","label","description","controlType","initialValue","renderForm","state","controls","selectText","cropText","cancelText","Docs","mainFile","example","parseInt","code","FOCUSABLE_ELEMENTS_SELECTOR","safeDocument","autoFocus","centered","fullscreen","onEscape","onBackdropDismiss","dialogRef","useCombinedRefs","triggerRef","isPristine","setIsPristine","onDialogKeyDown","Key","preventDefault","stopPropagation","focusableElements","Array","from","querySelectorAll","focusableElementsLength","length","currentFocusedIndex","indexOf","activeElement","shiftKey","focus","body","classList","add","remove","undefined","createPortal","show","hide","role","tabIndex","contains","onAnimationEnd","querySelector","onKeyDown"],"sourceRoot":""}