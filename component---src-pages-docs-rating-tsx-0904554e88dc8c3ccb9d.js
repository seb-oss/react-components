(self.webpackChunkreact_components_docs=self.webpackChunkreact_components_docs||[]).push([[4928],{74888:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var r=t(27378),l=t(2634),a=t(30808),o=t(508),s=t.n(o),i=["colors","index","value","customSVG","step"],c=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),u=function(e){var n=e.colors,t=e.index,l=e.value,o=e.customSVG,s=e.step,u=(0,a.Z)(e,i),m=(0,r.useState)(l),p=m[0],d=m[1];(0,r.useEffect)((function(){l>=t&&d(100*(l-t))}),[l]);var g=r.useCallback((function(e){return s%1==0?"url(#full_grad)":.5===s?e||"url(#half_grad)":"url(#dynamic_grad"+t+")"}),[s,t]);return r.createElement("svg",Object.assign({},u,{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"}),u.name&&r.createElement("title",null,u.name),r.createElement("defs",null,r.createElement("linearGradient",{id:"dynamic_grad"+t},r.createElement("stop",{offset:p-1+"%",style:{stopColor:n[1]}}),r.createElement("stop",{offset:"1%",style:{stopColor:n[0]}}),r.createElement("stop",{offset:100-p+"%",style:{stopColor:n[0]}})),r.createElement("linearGradient",{id:"full_grad"},r.createElement("stop",{offset:"100%",stopColor:n[1]})),r.createElement("linearGradient",{id:"half_grad"},r.createElement("stop",{offset:"50%",stopColor:n[1]}),r.createElement("stop",{offset:"50%",stopColor:n[0]})),r.createElement("linearGradient",{id:"no_grad"},r.createElement("stop",{offset:"100%",stopColor:n[0]}))),r.cloneElement(o||c,{preserveAspectRatio:"xMinYMin meet",fill:l&&0!==l?l>t&&l<=t+.5?g():l>=t+1?"url(#full_grad)":l>t&&l<t+1?g("url(#full_grad)"):"url(#no_grad)":"url(#no_grad)",key:t}))},m=["dimension","colors","customSVG","wrapperProps"],p=["#A9A9A9","#FFC500"],d=["#dddddd","#bfbfbf"],g=r.forwardRef((function(e,n){var t=e.dimension,l=void 0===t?30:t,o=e.colors,i=e.customSVG,c=e.wrapperProps,g=(0,a.Z)(e,m),f=(0,r.useState)(Number(g.value)),b=f[0],v=f[1],y=(0,r.useState)(0),h=(y[0],y[1]),E=(0,r.useState)(Number(g.max)||5),C=E[0],x=E[1];(0,r.useEffect)((function(){v(Number(g.value))}),[g.value]),(0,r.useEffect)((function(){g.max&&x(Number(g.max))}),[g.max]),(0,r.useEffect)((function(){h(Number(g.min))}),[g.min]);var k=function(e){!g.readOnly&&v(w(e))},w=function(e){var n=S(e);return C*Number(parseFloat(String(n)).toFixed(2))},S=function(e){var n=e.clientX,t=e.target.getBoundingClientRect(),r=n-t.left;return r<0?0:r/t.width};return r.createElement("div",Object.assign({},c,{className:s()("rc","rating",null==c?void 0:c.className)}),r.createElement("div",{className:"rating-icons"},Array.apply(null,{length:C}).map((function(e,n){return r.createElement(u,{colors:o&&o.length?2===o.length?o:p:g.disabled?d:p,key:n,index:n,value:b,customSVG:i,step:Number(g.step),width:l,height:l,name:g.svgname})}))),r.createElement("input",Object.assign({},g,{ref:n,type:"range",onChange:g.readOnly?null:g.onChange,onClick:g.readOnly?null:g.onClick,onMouseEnter:k,onMouseLeave:function(){!g.readOnly&&v(Number(g.value))},onMouseMove:k})))})),f=t(91448),b=t(3966),v=t.n(b),y=t(40024),h=function(){var e=r.useState(1),n=e[0],t=e[1],a=(0,f.b)([{key:"controls",items:[{key:"max",label:"Max",controlType:"Text",initialValue:5},{key:"min",label:"Min",description:"Should no be smaller than step",controlType:"Text",initialValue:1},{key:"step",label:"Step",controlType:"Text",initialValue:1},{key:"dimension",label:"Icon Dimension",controlType:"Text",initialValue:30},{key:"readOnly",label:"Read only",controlType:"Checkbox",initialValue:!1},{key:"disabled",label:"Disabled",controlType:"Checkbox",initialValue:!1},{key:"customSvg",label:"Custom SVG",controlType:"Checkbox",initialValue:!1},{key:"color",label:"Color",options:[{key:"default",label:"Default color",value:""},{key:"greyandblack",label:"Grey & Black",value:"greyandblack"},{key:"lightblueandblue",label:"Light blue & blue",value:"lightblueandblue"},{key:"lightgreenandGreen",label:"Light green & green",value:"lightgreenandGreen"}],controlType:"Radio"}]}]),o=a.renderForm,s=a.state.controls,i=s,c=i.color,u=i.readOnly,m=i.disabled,p=i.dimension,d=i.max,b=i.min,h=i.step;console.log(c);var E=r.useCallback((function(){switch(c){case"greyandblack":return["grey","black"];case"lightblueandblue":return["lightblue","blue"];case"lightgreenandGreen":return["lightgreen","green"];default:return null}}),[c]);return r.createElement(l.Z,{mainFile:y,example:r.createElement("div",{className:"w-100 d-flex justify-content-center"},r.createElement(g,{id:"some-id",className:"custom-class",readOnly:u,disabled:m,dimension:p,max:d,min:b,step:h,svgname:"custom name",colors:E(),customSVG:s.customSvg?r.createElement(v(),null):null,value:n,onChange:function(e){t(Number(e.target.value))}})),code:"<Rating value={number} onChange={(e) => setValue(e.target.value)} />",controls:o()})}},40024:function(e,n,t){"use strict";t.r(n),n.default='import React, { useState, useEffect } from "react";\nimport classnames from "classnames";\nimport { SVGComponent } from "./SVGComponent";\nimport "./rating.scss";\n\nexport type RatingProps = JSX.IntrinsicElements["input"] & {\n    /** Array of two colors to fill the states of the svgs */\n    colors?: [string, string];\n    /** Div wrapper props */\n    wrapperProps?: JSX.IntrinsicElements["div"];\n    /** svg to use instead of the default */\n    customSVG?: JSX.IntrinsicElements["svg"];\n    /**  name to be used for accessibility */\n    svgname?: string;\n    /** Dimensions (width/height) of the component  */\n    dimension?: number;\n};\n\n/**\n * @member 0 Grey (Unselected)\n * @member 1 Yellow (Selected)\n */\nconst initialColors: [string, string] = ["#A9A9A9", "#FFC500"];\nconst disabledColors: [string, string] = ["#dddddd", "#bfbfbf"];\n\nexport const Rating: React.FC<RatingProps> = React.forwardRef(({ dimension = 30, colors, customSVG, wrapperProps, ...props }: RatingProps, ref: React.ForwardedRef<HTMLInputElement>) => {\n    const [displayValue, setDisplayValue] = useState<number>(Number(props.value));\n    const [min, setMin] = useState<number>(0);\n    const [max, setMax] = useState<number>(Number(props.max) || 5);\n\n    useEffect(() => {\n        setDisplayValue(Number(props.value));\n    }, [props.value]);\n\n    useEffect(() => {\n        if (props.max) {\n            setMax(Number(props.max));\n        }\n    }, [props.max]);\n\n    useEffect(() => {\n        setMin(Number(props.min));\n    }, [props.min]);\n\n    /**\n     * Retrieves colors, either the colors passed in the props or use initialColors object\n     * @returns {Array<string>} The array of colors\n     */\n    const getColors = (): [string, string] => {\n        if (colors && colors.length) {\n            switch (colors.length) {\n                case 2:\n                    return colors;\n                default:\n                    return initialColors;\n            }\n        }\n        return props.disabled ? disabledColors : initialColors;\n    };\n\n    const onHover = (e: React.MouseEvent<HTMLInputElement>): void => {\n        !props.readOnly && setDisplayValue(calculateDisplayValue(e));\n    };\n\n    const onLeave = (): void => {\n        !props.readOnly && setDisplayValue(Number(props.value));\n    };\n\n    const calculateDisplayValue = (e: React.MouseEvent<HTMLInputElement>): number => {\n        const position: number = calculateHoverPercentage(e);\n        return max * Number(parseFloat(String(position)).toFixed(2));\n    };\n\n    const calculateHoverPercentage = (event: React.MouseEvent): number => {\n        const clientX: number = event.clientX;\n        const targetRect: DOMRect = (event.target as HTMLElement).getBoundingClientRect();\n        const delta: number = clientX - targetRect.left;\n        return delta < 0 ? 0 : delta / targetRect.width;\n    };\n\n    return (\n        <div {...wrapperProps} className={classnames("rc", "rating", wrapperProps?.className)}>\n            <div className="rating-icons">\n                {Array.apply(null, { length: max }).map((e: number, i: number) => (\n                    <SVGComponent\n                        colors={getColors()}\n                        key={i}\n                        index={i}\n                        value={displayValue}\n                        customSVG={customSVG}\n                        step={Number(props.step)}\n                        width={dimension}\n                        height={dimension}\n                        name={props.svgname}\n                    />\n                ))}\n            </div>\n            <input\n                {...props}\n                ref={ref}\n                type="range"\n                onChange={!props.readOnly ? props.onChange : null}\n                onClick={!props.readOnly ? props.onClick : null}\n                onMouseEnter={onHover}\n                onMouseLeave={onLeave}\n                onMouseMove={onHover}\n            />\n        </div>\n    );\n});\n'},3966:function(e,n,t){var r=t(27378);function l(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"}))}l.defaultProps={},e.exports=l,l.default=l}}]);
//# sourceMappingURL=component---src-pages-docs-rating-tsx-0904554e88dc8c3ccb9d.js.map